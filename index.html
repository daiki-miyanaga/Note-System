<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚†ã†ãªã¾ãƒãƒ¼ãƒˆãƒ»æœˆé–“ä¿®æ­£ã‚·ã‚¹ãƒ†ãƒ  - ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .store-selector {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .store-selector h3 {
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }

        .store-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .store-btn {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .store-btn:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-2px);
        }

        .store-btn.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: #666;
        }

        .metric-value {
            font-weight: bold;
            color: #333;
            font-size: 1.1rem;
        }

        .metric-value.positive {
            color: #27ae60;
        }

        .metric-value.negative {
            color: #e74c3c;
        }

        .metric-value.warning {
            color: #f39c12;
        }

        .system-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .system-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }

        .system-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .system-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .system-card p {
            color: #666;
            margin-bottom: 20px;
        }

        .system-card .features {
            list-style: none;
            text-align: left;
        }

        .system-card .features li {
            padding: 5px 0;
            color: #555;
            position: relative;
            padding-left: 20px;
        }

        .system-card .features li::before {
            content: "âœ“";
            color: #27ae60;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .quick-actions {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .quick-actions h3 {
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.3);
        }

        .weather-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .weather-icon {
            font-size: 1.5rem;
        }

        .current-date {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 25px;
            color: white;
            font-weight: 500;
            margin-bottom: 20px;
            display: inline-block;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .system-nav {
                grid-template-columns: 1fr;
            }
        }

        .alert {
            background: #ffeaa7;
            border: 1px solid #fdcb6e;
            border-radius: 8px;
            padding: 10px 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert.warning {
            background: #fab1a0;
            border-color: #e17055;
        }

        .reservations-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .reservation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .reservation-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="current-date" id="currentDate"></div>
            <h1>ã‚†ã†ãªã¾ãƒãƒ¼ãƒˆãƒ»æœˆé–“ä¿®æ­£ã‚·ã‚¹ãƒ†ãƒ </h1>
            <p class="subtitle">åº—èˆ—ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</p>
        </div>

        <!-- åº—èˆ—é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="store-selector">
            <h3>ğŸª åº—èˆ—é¸æŠ</h3>
            <div class="store-grid" id="storeGrid">
                <div class="store-btn" data-store="KRB01">æœ¬åº—</div>
                <div class="store-btn" data-store="KRB02">é§…å‰åº—</div>
                <div class="store-btn" data-store="KRB03">ã‚¤ã‚ªãƒ³åº—</div>
                <div class="store-btn" data-store="KRB04">ã‚¢ã‚¦ãƒˆãƒ¬ãƒƒãƒˆåº—</div>
            </div>
            <div style="text-align: center; color: #666;">
                é¸æŠä¸­ã®åº—èˆ—: <span id="selectedStore">æœªé¸æŠ</span>
            </div>
        </div>

        <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æƒ…å ± -->
        <div class="dashboard-grid">
            <!-- æœ¬æ—¥ã®å£²ä¸Šäºˆç®— -->
            <div class="card">
                <h3>ğŸ“Š æœ¬æ—¥ã®å£²ä¸Šäºˆç®—ãƒ»å®Ÿç¸¾</h3>
                <div class="weather-info">
                    <span class="weather-icon" id="weatherIcon">â˜€ï¸</span>
                    <span>å¤©æ°—: <span id="currentWeather">æ™´ã‚Œ</span></span>
                    <span>æ°—æ¸©: <span id="currentTemp">25</span>Â°C</span>
                </div>
                <div class="metric">
                    <span class="metric-label">å£²ä¸Šäºˆç®—</span>
                    <span class="metric-value">Â¥120,000</span>
                </div>
                <div class="metric">
                    <span class="metric-label">ç¾åœ¨å£²ä¸Š</span>
                    <span class="metric-value positive">Â¥85,400</span>
                </div>
                <div class="metric">
                    <span class="metric-label">é”æˆç‡</span>
                    <span class="metric-value positive">71.2%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">äºˆç®—å·®</span>
                    <span class="metric-value warning">-Â¥34,600</span>
                </div>
            </div>

            <!-- åœ¨åº«çŠ¶æ³ -->
            <div class="card">
                <h3>ğŸ“¦ åœ¨åº«ãƒ»å…¥è·çŠ¶æ³</h3>
                <div class="metric">
                    <span class="metric-label">ç·å…¥è·ã‚¢ã‚¤ãƒ†ãƒ </span>
                    <span class="metric-value">47å“ç›®</span>
                </div>
                <div class="metric">
                    <span class="metric-label">å®Œå£²å•†å“</span>
                    <span class="metric-value warning">3å“ç›®</span>
                </div>
                <div class="metric">
                    <span class="metric-label">ãƒ­ã‚¹ç‡</span>
                    <span class="metric-value">2.1%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">åœ¨åº«å›è»¢ç‡</span>
                    <span class="metric-value positive">8.5å›</span>
                </div>
                <div class="alert warning" id="stockAlert" style="display: none;">
                    âš ï¸ äººæ°—å•†å“ãŒæ—©æœŸå®Œå£²ã—ã¦ã„ã¾ã™
                </div>
            </div>

            <!-- äºˆç´„æƒ…å ± -->
            <div class="card">
                <h3>ğŸ“… æœ¬æ—¥ã®äºˆç´„æƒ…å ±</h3>
                <div class="metric">
                    <span class="metric-label">ç·äºˆç´„ä»¶æ•°</span>
                    <span class="metric-value">12ä»¶</span>
                </div>
                <div class="metric">
                    <span class="metric-label">äºˆç´„å£²ä¸Š</span>
                    <span class="metric-value">Â¥18,500</span>
                </div>
                <div class="reservations-list" id="reservationsList">
                    <div class="reservation-item">
                        <span>ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ Ã— 2</span>
                        <span>Â¥840</span>
                    </div>
                    <div class="reservation-item">
                        <span>ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ Ã— 1</span>
                        <span>Â¥520</span>
                    </div>
                    <div class="reservation-item">
                        <span>ã‚«ã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ Ã— 4</span>
                        <span>Â¥1,920</span>
                    </div>
                    <div class="reservation-item">
                        <span>ãƒ•ãƒ«ãƒ¼ãƒ„ã‚¿ãƒ«ãƒˆ Ã— 1</span>
                        <span>Â¥680</span>
                    </div>
                    <div class="reservation-item">
                        <span>ãã®ä»–8ä»¶</span>
                        <span>Â¥14,540</span>
                    </div>
                </div>
            </div>

            <!-- å£²ä¸Šãƒˆãƒ¬ãƒ³ãƒ‰ -->
            <div class="card">
                <h3>ğŸ“ˆ å£²ä¸Šãƒˆãƒ¬ãƒ³ãƒ‰</h3>
                <div class="metric">
                    <span class="metric-label">æ˜¨æ—¥æ¯”</span>
                    <span class="metric-value positive">+8.5%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">å‰é€±åŒæ›œæ—¥æ¯”</span>
                    <span class="metric-value positive">+12.3%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">æœˆç´¯è¨ˆ</span>
                    <span class="metric-value">Â¥2,845,200</span>
                </div>
                <div class="metric">
                    <span class="metric-label">æœˆäºˆç®—é”æˆç‡</span>
                    <span class="metric-value positive">94.8%</span>
                </div>
            </div>
        </div>

        <!-- ã‚·ã‚¹ãƒ†ãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="system-nav">
            <a href="younama-notebook.html" class="system-card">
                <h3>ğŸ“” ã‚†ã†ãªã¾ãƒãƒ¼ãƒˆ</h3>
                <p>æ—¥ã€…ã®å…¥è·æ•°å¤‰æ›´ã¨éå»å‚ç…§ã‚·ã‚¹ãƒ†ãƒ </p>
                <ul class="features">
                    <li>å…¥è·æ•°ã®ç·¨é›†ãƒ»ä¿®æ­£</li>
                    <li>éå»å®Ÿç¸¾ã®å‚ç…§ãƒ»æ¯”è¼ƒ</li>
                    <li>æ¨å¥¨å…¥è·æ•°ã®ææ¡ˆ</li>
                    <li>å£²ä¸Šãƒ»åœ¨åº«ã®è‡ªå‹•è¨ˆç®—</li>
                </ul>
            </a>

            <a href="monthly-adjustment.html" class="system-card">
                <h3>ğŸ“Š æœˆé–“ä¿®æ­£ãƒãƒ¼ãƒˆ</h3>
                <p>æœˆæ¬¡ã®ç™ºæ³¨ç®¡ç†ãƒ»èª¿æ•´ã‚·ã‚¹ãƒ†ãƒ </p>
                <ul class="features">
                    <li>æœˆé–“ç™ºæ³¨è¨ˆç”»ã®ç®¡ç†</li>
                    <li>ç™ºæ³¨æ•°é‡ã®èª¿æ•´ãƒ»ä¿®æ­£</li>
                    <li>å£²ä¸Šäºˆæ¸¬ã¨å®Ÿç¸¾æ¯”è¼ƒ</li>
                    <li>æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</li>
                </ul>
            </a>


            <a href="store-master.html" class="system-card">
                <h3>ğŸª åº—èˆ—ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†</h3>
                <p>åº—èˆ—æƒ…å ±ã®çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </p>
                <ul class="features">
                    <li>åº—èˆ—æƒ…å ±ã®ä¸€å…ƒç®¡ç†</li>
                    <li>å–¶æ¥­æ™‚é–“ãƒ»æ‹…å½“è€…è¨­å®š</li>
                    <li>å£²ä¸Šç›®æ¨™ã®ç®¡ç†</li>
                    <li>ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®å¤‰æ›´</li>
                </ul>
            </a>

        </div>

        <!-- ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="quick-actions">
            <h3>âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>
            <div class="action-grid">
                <button class="action-btn" onclick="quickSave()">ğŸ“± ãƒ‡ãƒ¼ã‚¿åŒæœŸ</button>
                <button class="action-btn" onclick="exportData()">ğŸ“¤ CSVå‡ºåŠ›</button>
                <button class="action-btn" onclick="generateReport()">ğŸ“‹ æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ</button>
                <button class="action-btn" onclick="backupData()">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</button>
            </div>
        </div>
    </div>

    <script>
        // ç¾åœ¨æ—¥æ™‚ã®è¡¨ç¤º
        function updateCurrentDate() {
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric', 
                weekday: 'long',
                hour: '2-digit',
                minute: '2-digit'
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('ja-JP', options);
        }

        // åº—èˆ—é¸æŠæ©Ÿèƒ½
        function initStoreSelector() {
            const storeButtons = document.querySelectorAll('.store-btn');
            const selectedStoreSpan = document.getElementById('selectedStore');
            
            storeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    storeButtons.forEach(b => b.classList.remove('selected'));
                    btn.classList.add('selected');
                    
                    const storeId = btn.dataset.store;
                    const storeName = btn.textContent;
                    selectedStoreSpan.textContent = `${storeName} (${storeId})`;
                    
                    localStorage.setItem('selectedStore', JSON.stringify({
                        id: storeId,
                        name: storeName
                    }));
                    
                    updateDashboardData(storeId);
                });
            });
            
            // ä¿å­˜ã•ã‚ŒãŸåº—èˆ—ã‚’å¾©å…ƒ
            const savedStore = localStorage.getItem('selectedStore');
            if (savedStore) {
                const store = JSON.parse(savedStore);
                const storeBtn = document.querySelector(`[data-store="${store.id}"]`);
                if (storeBtn) {
                    storeBtn.click();
                }
            }
        }

        // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
        function updateDashboardData(storeId) {
            console.log(`Updating dashboard for store: ${storeId}`);
            
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã“ã“ã§APIã‹ã‚‰åº—èˆ—å›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            // ä»Šå›ã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§è¡¨ç¤ºã‚’æ›´æ–°
            updateSalesData(storeId);
            updateStockData(storeId);
            updateReservationData(storeId);
        }

        // å£²ä¸Šãƒ‡ãƒ¼ã‚¿æ›´æ–°
        function updateSalesData(storeId) {
            // åº—èˆ—åˆ¥ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
            const salesData = {
                'KRB01': { budget: 120000, current: 85400, rate: 71.2 },
                'KRB02': { budget: 95000, current: 72800, rate: 76.6 },
                'KRB03': { budget: 110000, current: 89200, rate: 81.1 },
                'KRB04': { budget: 80000, current: 65300, rate: 81.6 }
            };
            
            const data = salesData[storeId] || salesData['KRB01'];
            const difference = data.current - data.budget;
            
            document.querySelector('[data-metric="budget"]').textContent = `Â¥${data.budget.toLocaleString()}`;
            document.querySelector('[data-metric="current"]').textContent = `Â¥${data.current.toLocaleString()}`;
            document.querySelector('[data-metric="rate"]').textContent = `${data.rate}%`;
            document.querySelector('[data-metric="difference"]').textContent = `Â¥${difference.toLocaleString()}`;
        }

        // å¤©æ°—æƒ…å ±ã®æ›´æ–°
        function updateWeatherInfo() {
            const weatherConditions = ['æ™´ã‚Œ', 'æ›‡ã‚Š', 'é›¨', 'é›ª'];
            const weatherIcons = ['â˜€ï¸', 'â˜ï¸', 'ğŸŒ§ï¸', 'â„ï¸'];
            const temp = Math.floor(Math.random() * 20) + 15; // 15-35åº¦
            const weatherIndex = Math.floor(Math.random() * weatherConditions.length);
            
            document.getElementById('currentWeather').textContent = weatherConditions[weatherIndex];
            document.getElementById('weatherIcon').textContent = weatherIcons[weatherIndex];
            document.getElementById('currentTemp').textContent = temp;
        }

        // åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆã®ãƒã‚§ãƒƒã‚¯
        function checkStockAlerts() {
            // å®Œå£²å•†å“æ•°ãŒ3ä»¥ä¸Šã®å ´åˆã«ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
            const soldOutCount = 3;
            const alert = document.getElementById('stockAlert');
            if (soldOutCount >= 3) {
                alert.style.display = 'flex';
            }
        }

        // ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é–¢æ•°
        function quickSave() {
            alert('ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚’é–‹å§‹ã—ã¾ã—ãŸ...');
            // å®Ÿéš›ã®åŒæœŸå‡¦ç†ã‚’å®Ÿè£…
        }

        function exportData() {
            alert('CSVå‡ºåŠ›ã‚’é–‹å§‹ã—ã¾ã—ãŸ...');
            // CSVå‡ºåŠ›å‡¦ç†ã‚’å®Ÿè£…
        }

        function generateReport() {
            alert('æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã—ãŸ...');
            // ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆå‡¦ç†ã‚’å®Ÿè£…
        }

        function backupData() {
            alert('ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã—ãŸ...');
            // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å‡¦ç†ã‚’å®Ÿè£…
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            updateCurrentDate();
            initStoreSelector();
            updateWeatherInfo();
            checkStockAlerts();
            
            // å®šæœŸçš„ã«æ—¥æ™‚ã‚’æ›´æ–°
            setInterval(updateCurrentDate, 60000);
        });

        // ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¦ç´ ã«data-metricå±æ€§ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼
        document.addEventListener('DOMContentLoaded', () => {
            const metrics = document.querySelectorAll('.metric-value');
            metrics[1].setAttribute('data-metric', 'budget');
            metrics[2].setAttribute('data-metric', 'current');
            metrics[3].setAttribute('data-metric', 'rate');
            metrics[4].setAttribute('data-metric', 'difference');
        });
    </script>
</body>
</html>